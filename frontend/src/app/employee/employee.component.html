<div class="container py-3">
    <div class="row">
        <div class="col-md-6">
            <h2>Employee Management</h2>
        </div>
        <div class="col ml-auto text-right">
            <button 
                type="button" 
                class="btn btn-outline-success" 
                (click)="openLg(content)">
                <i class="fa fa-plus"></i> Add Employee
            </button>
        </div>
    </div>
</div>

<hr>

<div class="row">
    <div class="col-md-3" *ngFor="let employee of employees;">
        <div class="card mb-3 ml-3">
            <div class="card-body">
                <h5 class="card-title">{{ employee.name }}</h5>
                <p class="card-text">{{ employee.position }}</p>
                <p class="badge badge-danger">{{ employee.dept }}</p>
                <hr>
                <button 
                    href="#" 
                    class="btn btn-outline-primary btn-sm mr-2"
                    (click)="onUpdateEmployee(employee._id, update)">Edit</button>
                <button 
                    href="#" 
                    class="btn btn-outline-danger btn-sm" 
                    (click)="deleteEmployee(employee._id)">Delete</button>
            </div>
        </div>
    </div>
</div>

<ng-template #content let-modal>
    <div class="modal-header">
      <h4 class="modal-title">Add Employee</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
     <form [formGroup]="employee" (submit)="addEmployee()">
         <div class="form-group">
             <label> Employee Name</label>
             <input type="text" class="form-control" formControlName="name">
         </div>
         <div class="form-group">
            <label> Position</label>
            <input type="text" class="form-control" formControlName="position">
        </div>
        <div class="form-group">
            <label>Department</label>
            <input type="text" class="form-control" formControlName="dept">
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-outline-success"> Add Employee </button>
            <button type="button" class="btn btn-outline-danger" (click)="modal.close('Close click')">Close</button>
        </div>
     </form>
    </div>
  </ng-template>

  <ng-template #update let-modal>
    <div class="modal-header">
      <h4 class="modal-title">Update Employee</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
     <form [formGroup]="employee" (submit)="editEmployee()">
         <div class="form-group">
             <label> Employee Name</label>
             <input type="text" class="form-control" formControlName="name">
         </div>
         <div class="form-group">
            <label> Position</label>
            <input type="text" class="form-control" formControlName="position">
        </div>
        <div class="form-group">
            <label>Department</label>
            <input type="text" class="form-control" formControlName="dept">
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-outline-success"> Update Employee </button>
            <button type="button" class="btn btn-outline-danger" (click)="modal.close('Close click')">Close</button>
        </div>
     </form>
    </div>
  </ng-template>